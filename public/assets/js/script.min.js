!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){var n=/\+/g;function t(e){return i.raw?e:encodeURIComponent(e)}function o(e){return t(i.json?JSON.stringify(e):String(e))}function a(t,o){var a=i.raw?t:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),i.json?JSON.parse(e):e}catch(e){}}(t);return e.isFunction(o)?o(a):a}var i=e.cookie=function(n,r,l){if(void 0!==r&&!e.isFunction(r)){if("number"==typeof(l=e.extend({},i.defaults,l)).expires){var c=l.expires,f=l.expires=new Date;f.setTime(+f+864e5*c)}return document.cookie=[t(n),"=",o(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d,u=n?void 0:{},s=document.cookie?document.cookie.split("; "):[],p=0,v=s.length;p<v;p++){var m=s[p].split("="),x=(d=m.shift(),i.raw?d:decodeURIComponent(d)),g=m.join("=");if(n&&n===x){u=a(g,r);break}n||void 0===(g=a(g))||(u[x]=g)}return u};i.defaults={},e.removeCookie=function(n,t){return void 0!==e.cookie(n)&&(e.cookie(n,"",e.extend({},t,{expires:-1})),!e.cookie(n))}}),function(e){var n="";e.ready(()=>{e.get("/api/veri/new").done(e=>{n=e,console.log(n)})})}(jQuery),function(e){console.log("nameCard loaded"),e.fn.nameCard=function(e){var n=this[0].getContext("2d");e||(e={});var t={name:"吳政儒",nickName:"狸貓",job:"社長 社寵"};for(var o in t)o in e||(e[o]=t[o]);n.fillStyle="#1b2124",n.fillRect(0,0,900,540),n.fillStyle="#ffffff",n.font="120px Auraka",n.fillText(e.name,30,130),n.font="60px Auraka",n.fillText(e.job,420,80),n.font="50px Auraka",n.fillText(e.nickName,420,150),n.font="30px Auraka"}}($),function(e){function n(e,n,t){var o=16*e,a=128-16*(n+1);t.fillRect(o,a,16,16)}console.log("avatar loaded"),e.fn.avatar=function(e="#ffffff",t="#000000"){return function(e,t,o){!function(e,n){var t=e.fillStyle;e.fillStyle=n,e.fillRect(0,0,128,128),e.fillStyle=t}(e,o);var a=e.fillStyle;e.fillStyle=t;for(var i=[7,6,5,4],r=0;r<8;r++)for(var l in i)100*Math.random()>50&&(n(l,r,e),n(i[l],r,e));e.fillStyle=a}(this[0].getContext("2d"),e,t),this}}($),console.log("script loaded");var intro=[],index=0,all=16,step=2;function nameCard(e){if(intro.length<=3)setTimeout(nameCard,100,e);else{e-=1;var n=data[e],t=$("#nameCard-lg"),o=t[0].getContext("2d");console.log(e),t.nameCard({name:n.name,nickName:n.nickName,job:function(e){var n="";for(var t in e)n+=e[t]+" ";return n}(n.position)}),$("#avatar").avatar(),o.drawImage($("#avatar")[0],50.5,200.5,256,256),console.log(n);var a=[230,280,330,380,430,480],i=intro[e].split("\n");for(var r in console.log(i),i)o.fillText(i[r],330,a[r]);var l=[[450,270],[600,360],[1200,720]];$("canvas").not("#avatar").not("#nameCard-lg").each((e,n)=>{n.getContext("2d").drawImage(t[0],0,0,l[e][0],l[e][1])})}}function left(e){index=(index+e)%all,console.log("===== left =====");for(var n=0;n<4;n++){console.log(t);var t=(index+n)%all;$(`#p${n}`).text(data[t].name)}console.log("================")}function button(e){nameCard((index+e)%all+1)}data.forEach((e,n)=>{$.ajax(`./intro/${e.intro}`).then(e=>{intro[n]=e}).catch(()=>{then[n]="not found"})}),$(document).ready(function(){nameCard(1),$("#avatar").hide(),$("#p0").text(data[0].name).click(()=>{button(0)}),$("#p1").text(data[1].name).click(()=>{button(1)}),$("#p2").text(data[2].name).click(()=>{button(2)}),$("#p3").text(data[3].name).click(()=>{button(3)}),$("#left").click(()=>{left(all-step)}),$("#right").click(()=>{left(step)})}),$(window).resize(()=>{var e=$("canvas").not("#avatar"),n=$(this).width();console.log(n),e.hide(),n>=1400?e.eq(3).show():n>=992?e.eq(2).show():n>=768?e.eq(1).show():e.eq(0).show()}).resize(),$(function(){new Swiper(".swiper-container",{loop:!0,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})});