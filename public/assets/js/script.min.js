jQuery.fn.nameCard=function(t){var a=this[0].getContext("2d");t||(t={});var n={name:"吳政儒",nickName:"狸貓",job:"社長 社寵"};for(var e in n)e in t||(t[e]=n[e]);a.fillStyle="#1b2124",a.fillRect(0,0,900,540),a.fillStyle="#ffffff",a.font="120px Auraka",a.fillText(t.name,30,130),a.font="60px Auraka",a.fillText(t.job,420,80),a.font="50px Auraka",a.fillText(t.nickName,420,150),a.font="30px Auraka"},function(t){function a(t,a,n){var e=16*t,i=128-16*(a+1);n.fillRect(e,i,16,16)}jQuery.fn.avatar=function(t="#ffffff",n="#000000"){return function(t,n,e){!function(t,a){var n=t.fillStyle;t.fillStyle=a,t.fillRect(0,0,128,128),t.fillStyle=n}(t,e);var i=t.fillStyle;t.fillStyle=n;for(var r=[7,6,5,4],o=0;o<8;o++)for(var f in r)100*Math.random()>50&&(a(f,o,t),a(r[f],o,t));t.fillStyle=i}(this[0].getContext("2d"),t,n),this}}();var nameCard=function(t){var a=()=>{};a("script loaded");var n,e=[],i=0,r=16;function o(i){if(e.length<=3)setTimeout(o,100,i);else{var r=n[i-=1],f=t("#nameCard-lg"),l=f[0].getContext("2d");a(i),f.nameCard({name:r.name,nickName:r.nickName,job:function(t){var a="";for(var n in t)a+=t[n]+" ";return a}(r.position)}),t("#avatar").avatar(),l.drawImage(t("#avatar")[0],50.5,200.5,256,256),a(r);var c=[230,280,330,380,430,480],v=e[i].split("\n");for(var u in a(v),v)l.fillText(v[u],330,c[u]);var m=[[450,270],[600,360],[1200,720]];t("canvas").not("#avatar").not("#nameCard-lg").each((t,a)=>{a.getContext("2d").drawImage(f[0],0,0,m[t][0],m[t][1])})}}function f(e){i=(i+e)%r,a("===== left =====");for(var o=0;o<4;o++){a(f);var f=(i+o)%r;t(`#p${o}`).text(n[f].name)}a("================")}function l(t){o((i+t)%r+1)}t(document).ready(function(){t.getJSON("/api/GET/user").done(a=>{(n=a).forEach((a,n)=>{t.ajax(`./intro/${a.intro}`).then(t=>{e[n]=t}).catch(()=>{e[n]="not found"})}),t("#nameCard-lg")[0]&&o(1),t("#p0").text(n[0].name).click(()=>{l(0)}),t("#p1").text(n[1].name).click(()=>{l(1)}),t("#p2").text(n[2].name).click(()=>{l(2)}),t("#p3").text(n[3].name).click(()=>{l(3)})}),t("#avatar").hide(),t("#left").click(()=>{f(r-2)}),t("#right").click(()=>{f(2)})}),t(window).resize(()=>{var n=t("canvas").not("#avatar"),e=t(this).width();a(e),n.hide(),e>=1400?n.eq(3).show():e>=992?n.eq(2).show():e>=768?n.eq(1).show():n.eq(0).show()}).resize()};$(function(){new Swiper(".swiper-container",{loop:!0,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})});